<html>
    <head>
        <title> Things to do </title>
    <body>


        #def task_template($task)
            <li>
                #if $task.has_title
                I have to do $task.title. <br>
                #end if

                #if $task.has_text
                In particular: $task.text
                #end if
                
                #if $task.has_subtasks
                <ul>
                    #for $subtask in $task.subtasks:
                        $task_template($subtask)
                    #end for
                </ul>
                #end if
            </li>
        #end def


        <ul>
            #for $task in $tasks:
                $task_template($task)
            #end for

        <ul>
    </body>
</html>

